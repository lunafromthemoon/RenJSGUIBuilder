<!DOCTYPE html>
<%- include('include/head'); %>
<html lang="en">
    <body class="paw">
        <div class="cta-container">
          <div class="mt-3 promo">
            <div class="text-center my-3">
              <img src="img/renjs-title.svg" class="img-fluid title" >
              <h2 class="title text-white">GUI Builder</h2>
            </div>

            <!-- <p>You can create a <strong>New GUI</strong> from scratch or clone a previous one and modify it. When your GUI is ready, simply press the Build button and the GUI file will be compiled, along with the configuration file for <strong>RenJS</strong>, the assets directory and a barebones game structure.</p> -->
            <div class="text-center mb-3">
              <a type="button" class="btn btn-outline-light" href="#" data-toggle="modal" data-target="#new-gui-modal">Create New GUI!</a>
              <a type="button" class="btn btn-outline-light" id="import-gui" href="#">Import GUI!</a>
              <input id="import-input" type="file" name="name" style="display: none;" />
            </div>
            <div class="form-group">
              <div class="input-group mb-3 btn-block">
                
                <input type="text" class="form-control workspace-btn" readonly value="Workspace: <%= workspace %>">
                <div class="input-group-append">
                  <button type="button" class="btn btn-outline-light btn-addon change-workspace">Change</button>
                  <button type="button" class="btn btn-outline-light btn-addon" id="open-workspace">Explore</button>
                </div>
              </div>
            </div>

          </div>
          <div class="bs-docs-section">
            <div class="row">
              <div class="card-columns">
                <!-- <div class="card">
                  <img class="card-img-top" src="img/index.svg" alt="Card image">
                  <div class="card-body">
                    <h5 class="card-title">New GUI</h5>
                    <p class="card-text">Create a new GUI from scratch!</p>
                    <a type="button" class="btn btn-outline-secondary btn-block" href="#" data-toggle="modal" data-target="#new-gui-modal">New</a>
                  </div>
                </div> -->
                <div class="card d-none gui-template">
                  <img class="card-img-top" src="img/index.svg" alt="Card image">
                  <div class="card-body">
                    <h4 class="card-title modal-title"></h4>
                    <p class="card-text">
                      <ul>
                        <li class="resolution"></li>
                        <li class="last-edition"></li>
                      </ul>
                    </p>
                    <div class="btn-group mr-2 btn-block" role="group" aria-label="First group">
                      <button type="button" data-toggle="tooltip" data-placement="top" title="Build" class="btn btn-primary btn-generate"><i class="fas fa-rocket"></i></button>
                      <button type="button" data-toggle="tooltip" data-placement="top" title="Export" class="btn btn-success btn-export"><i class="fas fa-download"></i></button>
                      <a type="button" href="" data-toggle="tooltip" data-placement="top" title="Edit" class="btn btn-warning btn-edit"><i class="fas fa-palette"></i></a>
                      <button type="button" data-toggle="tooltip" data-placement="top" title="Clone" class="btn btn-info btn-clone"><i class="far fa-clone"></i></button>
                      <button type="button" data-toggle="tooltip" data-placement="top" title="Delete" class="btn btn-danger btn-remove"><i class="fas fa-trash-alt"></i></button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="modal" id="new-gui-modal">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h4 class="modal-title">New Gui!</h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
              </div>
              <div class="modal-body">
                <div class="alert alert-dismissible alert-danger collapse" id="new-gui-error">
                  <button type="button" class="close" data-dismiss="alert">&times;</button>
                  <p></p>
                </div>
                <div class="callout-block callout-block-warning">
                    <div class="content">
                        <h4 class="callout-title">
                          <span class="callout-icon-holder mr-1">
                            <i class="fas fa-bullhorn"></i>
                        </span><!--//icon-holder-->
                          Warning
                      </h4>
                        <p>These values can't be changed later, so choose carefully!</p>
                    </div><!--//content-->
                </div><!--//callout-block-->
                <fieldset>
                  <legend>Gui Name:</legend>
                  <div class="form-group">
                    <input class="form-control" id="gui-name">
                    <small>The name can't have whitespaces or special symbols (except underscore).</small>
                  </div>
                  <legend>Resolution:</legend>
                    <div class="form-group">
                      <div class="input-group">
                        <div class="input-group-prepend">
                          <span class="btn btn-outline-secondary btn-addon">W</span>
                        </div>
                        <input type="number" class="form-control" id="gui-width">
                      </div>
                    </div>
                    <div class="form-group">
                      <div class="input-group">
                        <div class="input-group-prepend">
                          <span class="btn btn-outline-secondary btn-addon">H</span>
                        </div>
                        <input type="number" class="form-control" id="gui-height">
                      </div>
                    </div>
                    <small>The resolution is in pixel Width and Height.</small>
                </fieldset>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-cta-secondary btn-new-gui">Create</button>
                <button type="button" class="btn btn-cta-primary" data-dismiss="modal">Close</button>
              </div>
            </div>
          </div>
        </div>

        <div class="modal" id="clone-gui-modal">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h4 class="modal-title">Clone Gui!</h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
              </div>
              <div class="modal-body">
                <div class="alert alert-dismissible alert-danger collapse" id="cloned-gui-error">
                  <button type="button" class="close" data-dismiss="alert">&times;</button>
                  <p></p>
                </div>
                <p>The GUI <strong id="gui-name-placeholder"></strong> will be cloned, including configuration and all of its assets. Choose a new name for the cloned GUI.</p>
                <fieldset>
                  <legend>New Name:</legend>
                  <div class="form-group">
                    <input class="form-control" id="gui-cloned-name">
                  </div>
                  <small>The name can't have whitespaces or special symbols (except underscore).</small>
                </fieldset>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-cta-secondary btn-clone-gui">Clone</button>
                <button type="button" class="btn btn-cta-primary" data-dismiss="modal">Close</button>
              </div>
            </div>
          </div>
        </div>

        <div class="modal" id="generating-modal">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h4 class="modal-title">Generating!</h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
              </div>
              <div class="modal-body">
                <i class="fa fa-cog fa-spin fa-3x fa-fw"></i>
                <p>Your GUI was successfully generated and can be found in the build directory.</p>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-primary" id='open-dir'>Open Directory</button>
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
              </div>
            </div>
          </div>
        </div>

        <div class="modal" id="change-workspace-modal">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h4 class="modal-title">Workspace Problem!</h4>
              </div>
              <div class="modal-body">
                <i class="fa fa-cog fa-spin fa-3x fa-fw"></i>
                <p>The workspace directory is not set or not available anymore, please select a new workspace directory.</p>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-primary btn-block" id='change-workspace'>Change Workspace</button>
              </div>
            </div>
          </div>
        </div>

        <script type="text/javascript">
          <% if (guis) { %>
            changeWorkspace = false;
            guiList = JSON.parse('<%- guis %>');
          <% } else { %>
            guiList = [];
            changeWorkspace = true;
          <% }%>
          
        </script>


        <script src="jquery/jquery.min.js"></script>
        <script src="popper/popper.min.js"></script>
        <script src="bootstrap/js/bootstrap.min.js"></script>
        <script src="js/gui-list.js"></script>
    </body>
</html>


